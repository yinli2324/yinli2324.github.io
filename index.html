<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="音黎工具箱 - 免费资源分享平台，提供游戏资源、软件工具和在线工具的免费下载和分享。">
    <meta name="keywords" content="音黎工具箱, 免费资源分享, 游戏资源, 软件工具, 在线工具, 原神单机版, 崩铁单机版, Windows激活工具, VPN工具, 临时邮箱">
    <meta name="author" content="音黎">
    <meta name="robots" content="index, follow, max-snippet:50, max-image-preview:large, max-video-preview:-1">
    <meta name="theme-color" content="#0a0a1f">
    <meta name="msapplication-TileColor" content="#0a0a1f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="音黎工具箱">
    <meta name="application-name" content="音黎工具箱">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta name="google" content="notranslate">
    
    <!-- 安全性增强 -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; font-src 'self' https://cdnjs.cloudflare.com; img-src 'self' data: https:; media-src 'self' blob:;">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="音黎工具箱 - 免费资源分享平台">
    <meta property="og:description" content="免费资源分享平台，提供各种游戏、软件和在线工具的免费资源。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-website-url.com">
    <meta property="og:image" content="https://your-website-url.com/IMG_20251107_203519.png">
    <meta property="og:site_name" content="音黎工具箱">
    <meta property="og:locale" content="zh_CN">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="音黎工具箱">
    <meta name="twitter:description" content="免费资源分享平台，提供各种游戏、软件和在线工具的免费资源。">
    <meta name="twitter:image" content="https://your-website-url.com/IMG_20251107_203519.png">
    
    <title>音黎工具箱 - 免费游戏资源、软件工具下载分享平台</title>
    
    <!-- 规范链接 -->
    <link rel="canonical" href="https://your-website-url.com">
    
    <!-- PWA支持 -->
    <link rel="manifest" href="manifest.json">
    
    <!-- 预加载关键资源 -->
    <link rel="preload" href="mmexport1762503261089.mp4" as="video" type="video/mp4" fetchpriority="high" media="(min-width: 768px)">
    <link rel="preload" href="IMG_20251107_203519.png" as="image" fetchpriority="high">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://b23.tv">
    <link rel="dns-prefetch" href="https://share.feijipan.com">
    
    <!-- 网站图标 -->
    <link rel="icon" href="IMG_20251107_203519.png" type="image/png">
    <link rel="apple-touch-icon" href="IMG_20251107_203519.png">
    
    <!-- Font Awesome 异步加载 -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    
    <!-- 关键CSS内联 -->
    <style>
        /* 关键CSS变量和基础样式 */
        :root {
            --neon-blue: #00f3ff;
            --neon-purple: #b300ff;
            --dark-bg: #0a0a1f;
            --card-bg: transparent;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --text-color: #e6e6ff;
            --primary: #1a73e8;
            --primary-dark: #0d47a1;
            --secondary: #00b0ff;
            --accent: #2979ff;
            --neon-blue-new: #00e5ff;
            --background: linear-gradient(135deg, #0a1929 0%, #0d1b2a 50%, #0a1420 100%);
            --surface: rgba(19, 47, 76, 0.7);
            --surface-hover: rgba(41, 121, 255, 0.15);
            --text: #e3f2fd;
            --text-secondary: #90caf9;
            --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            --card-glow: 0 0 20px rgba(41, 121, 255, 0.15);
            --neon-glow: 0 0 10px rgba(0, 229, 255, 0.7), 0 0 20px rgba(0, 229, 255, 0.5), 0 0 30px rgba(0, 229, 255, 0.3);
            --transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --animation-timing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --border-radius: 15px;
            --shadow-intensity: 0.4;
            color-scheme: dark light;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }

        body {
            background: transparent;
            color: var(--text-color);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            padding-bottom: 80px;
        }

        /* 跳过导航链接 */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: #000;
            color: white;
            padding: 8px;
            z-index: 10000;
            text-decoration: none;
            border-radius: 4px;
            transition: top 0.3s ease;
        }

        .skip-link:focus {
            top: 6px;
        }

        /* 视频背景 */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        #bg-video {
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            object-fit: cover;
        }

        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 31, 0.4);
        }

        /* 加载动画样式 */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--dark-bg);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        #loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loading-logo {
            font-size: clamp(2.5rem, 8vw, 4rem);
            font-weight: 800;
            margin-bottom: 30px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 50%, #8a2be2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 5px 15px rgba(41, 121, 255, 0.3);
            position: relative;
            display: inline-block;
            letter-spacing: 2px;
            filter: drop-shadow(0 0 10px rgba(0, 229, 255, 0.5));
            animation: textGlow 3s ease-in-out infinite alternate;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        @keyframes textGlow {
            0% {
                filter: drop-shadow(0 0 5px rgba(0, 229, 255, 0.3));
            }
            100% {
                filter: drop-shadow(0 0 15px rgba(0, 229, 255, 0.7)) drop-shadow(0 0 20px rgba(0, 229, 255, 0.4));
            }
        }

        .loading-subtitle {
            font-size: clamp(1rem, 4vw, 1.2rem);
            color: var(--text-secondary);
            margin-bottom: 40px;
            text-align: center;
            text-shadow: 0 0 10px rgba(144, 202, 249, 0.5);
            opacity: 0;
            animation: fadeIn 1s ease 0.5s forwards;
            padding: 0 1rem;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .loading-animation {
            width: clamp(60px, 20vw, 80px);
            height: clamp(60px, 20vw, 80px);
            position: relative;
            margin-bottom: 40px;
        }

        .loading-circle {
            width: 100%;
            height: 100%;
            border: 3px solid rgba(41, 121, 255, 0.3);
            border-top: 3px solid var(--secondary);
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
            box-shadow: 0 0 15px rgba(0, 176, 255, 0.5);
        }

        .loading-inner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60%;
            height: 60%;
            border: 2px solid rgba(41, 121, 255, 0.3);
            border-bottom: 2px solid var(--primary);
            border-radius: 50%;
            animation: spinReverse 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes spinReverse {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(-360deg); }
        }

        .loading-progress-container {
            width: min(300px, 80vw);
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .loading-progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            border-radius: 4px;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 176, 255, 0.7);
            position: relative;
            overflow: hidden;
        }

        .loading-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .loading-percentage {
            font-size: 1.2rem;
            color: var(--text);
            text-shadow: 0 0 10px rgba(0, 176, 255, 0.5);
            margin-bottom: 30px;
        }

        .loading-tips {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: center;
            max-width: 80%;
            opacity: 0;
            animation: fadeIn 1s ease 1s forwards;
            padding: 0 1rem;
        }

        /* 主容器 */
        .container {
            max-width: min(1200px, 95vw);
            margin-inline: auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 30px 0;
            animation: fadeIn 1s ease;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 10px;
        }

        .logo-icon {
            font-size: clamp(2rem, 6vw, 2.5rem);
            margin-right: 15px;
            color: var(--neon-blue);
            text-shadow: 0 0 15px var(--neon-blue);
            animation: breathe 3s ease-in-out infinite;
        }

        .logo {
            font-size: clamp(2rem, 6vw, 2.5rem);
            font-weight: 700;
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-purple));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        .subtitle {
            font-size: clamp(1rem, 4vw, 1.2rem);
            color: #a0a0ff;
            margin-bottom: 30px;
            animation: fadeIn 1.5s ease;
        }

        /* B站官方账号区域 */
        .bilibili-section {
            display: flex;
            justify-content: center;
            margin: 20px 0 30px;
        }

        .bilibili-card {
            background: rgba(16, 18, 37, 0.7);
            border-radius: var(--border-radius);
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
            cursor: pointer;
            display: flex;
            align-items: center;
            max-width: 400px;
            width: 100%;
            animation: fadeIn 2s ease;
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.4);
            backdrop-filter: blur(10px);
        }

        .bilibili-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3), 0 0 30px rgba(0, 243, 255, 0.6);
            border-color: rgba(0, 243, 255, 0.4);
        }

        .bilibili-icon {
            font-size: 2.5rem;
            color: #fb7299;
            margin-right: 15px;
            text-shadow: 0 0 10px #fb7299;
        }

        .bilibili-info h3 {
            color: var(--text-color);
            margin-bottom: 5px;
        }

        .bilibili-info p {
            color: #b8b8ff;
            font-size: 0.9rem;
        }

        /* 分类标题 */
        .category-title {
            font-size: clamp(1.2rem, 5vw, 1.5rem);
            margin: 30px 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(0, 243, 255, 0.3);
            color: var(--neon-blue);
            text-shadow: 0 0 10px var(--neon-blue);
            display: flex;
            align-items: center;
        }

        .category-title i {
            margin-right: 10px;
        }

        /* 工具网格 */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            will-change: transform;
        }

        .tool-card {
            background: rgba(16, 18, 37, 0.7);
            border-radius: var(--border-radius);
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transform: translateY(20px);
            opacity: 0;
            animation: cardAppear 0.5s ease forwards;
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.4);
            will-change: transform;
            backface-visibility: hidden;
            backdrop-filter: blur(10px);
        }

        .tool-card:nth-child(1) { animation-delay: 0.1s; }
        .tool-card:nth-child(2) { animation-delay: 0.2s; }
        .tool-card:nth-child(3) { animation-delay: 0.3s; }
        .tool-card:nth-child(4) { animation-delay: 0.4s; }
        .tool-card:nth-child(5) { animation-delay: 0.5s; }
        .tool-card:nth-child(6) { animation-delay: 0.6s; }
        .tool-card:nth-child(7) { animation-delay: 0.7s; }
        .tool-card:nth-child(8) { animation-delay: 0.8s; }
        .tool-card:nth-child(9) { animation-delay: 0.9s; }
        .tool-card:nth-child(10) { animation-delay: 1.0s; }
        .tool-card:nth-child(11) { animation-delay: 1.1s; }
        .tool-card:nth-child(12) { animation-delay: 1.2s; }

        @keyframes cardAppear {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }

        .tool-card:hover::before {
            left: 100%;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3), 0 0 30px rgba(0, 243, 255, 0.6);
            border-color: rgba(0, 243, 255, 0.4);
        }

        /* 移动端触摸反馈 */
        .tool-card:active {
            transform: scale(0.98);
            transition: transform 0.1s ease;
        }

        .tool-icon {
            font-size: 2rem;
            margin-bottom: 15px;
            color: var(--neon-blue);
            text-shadow: 0 0 10px var(--neon-blue);
        }

        .tool-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .tool-desc {
            font-size: 0.9rem;
            color: #b8b8ff;
            line-height: 1.4;
        }

        .tool-password {
            position: absolute;
            top: 10px;
            right: 10px;
            color: var(--neon-blue);
            font-size: 0.8rem;
        }

        /* 底部导航栏 */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(16, 18, 37, 0.9);
            backdrop-filter: blur(15px);
            border-top: 1px solid rgba(0, 243, 255, 0.2);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #a0a0ff;
            text-decoration: none;
            transition: var(--transition);
            padding: 5px 10px;
            border-radius: 10px;
            position: relative;
            min-height: 44px;
            justify-content: center;
        }

        .nav-item i {
            font-size: 1.5rem;
            margin-bottom: 5px;
            transition: var(--transition);
        }

        .nav-item span {
            font-size: 0.8rem;
        }

        .nav-item.active, .nav-item:hover {
            color: var(--neon-blue);
            text-shadow: 0 0 10px var(--neon-blue);
        }

        .nav-item.active i, .nav-item:hover i {
            color: var(--neon-blue);
            text-shadow: 0 0 10px var(--neon-blue);
            transform: translateY(-3px);
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            width: 5px;
            height: 5px;
            background: var(--neon-blue);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--neon-blue);
        }

        /* Toast 通知 */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            color: white;
            border-radius: 4px;
            z-index: 10000;
            animation: slideIn 0.3s ease;
            max-width: 300px;
        }

        .toast.success {
            background: #4CAF50;
        }

        .toast.warning {
            background: #FF9800;
        }

        .toast.error {
            background: #f44336;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* 屏幕阅读器专用样式 */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .tools-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .logo-icon {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }

            .bottom-nav span {
                display: none;
            }

            .nav-item {
                padding: 8px 15px;
            }

            .nav-item i {
                margin-bottom: 0;
            }
            
            /* 防止移动端缩放 */
            input, select, textarea {
                font-size: 16px;
            }
            
            /* 移动端禁用视频背景 */
            .video-background {
                display: none;
            }
            
            body {
                background: var(--background);
            }
        }

        @media (max-width: 480px) {
            .tools-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 10px;
            }
            
            .logo-container {
                flex-direction: column;
            }
            
            .logo-icon {
                margin-right: 0;
                margin-bottom: 10px;
            }

            .bottom-nav {
                padding: 10px 0;
            }

            .bilibili-card {
                flex-direction: column;
                text-align: center;
            }

            .bilibili-icon {
                margin-right: 0;
                margin-bottom: 10px;
            }
        }

        /* 触摸设备优化 */
        @media (hover: none) and (pointer: coarse) {
            .tool-card:hover {
                transform: none;
                box-shadow: 0 0 20px rgba(0, 243, 255, 0.4);
            }
            
            .tool-card, .bilibili-card, .nav-item, button {
                touch-action: manipulation;
                min-height: 44px;
            }
            
            /* 改进移动端点击反馈 */
            .tool-card:active, .bilibili-card:active {
                transform: scale(0.95);
                transition: transform 0.1s ease;
            }
        }

        /* 减少动画的媒体查询 */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* 打印样式 */
        @media print {
            .video-background,
            .bottom-nav,
            #loading-screen,
            .toast {
                display: none !important;
            }
            
            body {
                background: white !important;
                color: black !important;
                padding-bottom: 0;
            }
            
            .tool-card {
                break-inside: avoid;
                border: 1px solid #ccc !important;
                box-shadow: none !important;
                background: white !important;
                color: black !important;
            }
            
            .tool-title, .tool-desc {
                color: black !important;
            }
        }

        /* 动画效果 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.8s ease forwards;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        .shake {
            animation: shake 0.5s ease;
        }
        
        @keyframes breathe {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
    </style>
    
    <!-- 结构化数据 -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "音黎工具箱",
      "description": "免费资源分享平台，提供游戏资源、软件工具和在线工具的免费下载和分享",
      "url": "https://your-website-url.com",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "All",
      "author": {
        "@type": "Person",
        "name": "音黎"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "CNY"
      }
    }
    </script>
</head>
<body>
    <!-- 跳过导航链接 -->
    <a href="#main-content" class="skip-link" aria-label="跳过导航直接访问主要内容">跳转到主要内容</a>

    <div class="video-background">
        <video autoplay muted loop id="bg-video" 
               aria-label="网站背景视频 - 科技感动态背景"
               preload="metadata" playsinline disablepictureinpicture poster="video-poster.jpg">
            <source src="mmexport1762503261089.mp4" type="video/mp4">
            <source src="background.webm" type="video/webm">
            <source src="background.ogv" type="video/ogg">
            <!-- 备用图片 -->
            <img src="fallback-background.jpg" alt="背景图片">
            您的浏览器不支持视频标签。
        </video>
        <div class="video-overlay"></div>
    </div>

    <div id="loading-screen">
        <div class="loading-logo">音黎工具箱</div>
        <div class="loading-subtitle">免费资源分享，不采取任何支付费用</div>
        <div class="loading-animation">
            <div class="loading-circle"></div>
            <div class="loading-inner"></div>
        </div>
        <div class="loading-progress-container">
            <div class="loading-progress-bar" id="loading-progress-bar"></div>
        </div>
        <div class="loading-percentage" id="loading-percentage">0%</div>
        <div class="loading-tips" id="loading-tips">正在初始化应用...</div>
    </div>

    <main class="container" id="main-content" style="display: none;" role="main" aria-label="主要内容">
        <header>
            <div class="logo-container">
                <i class="fas fa-toolbox logo-icon" aria-hidden="true"></i>
                <h1 class="logo">音黎工具箱</h1>
            </div>
            <p class="subtitle">资源全部免费分享，不采取任何支付费用</p>
        </header>

        <section class="bilibili-section">
            <div class="bilibili-card" data-link="https://b23.tv/XWhCTXW" role="button" tabindex="0" aria-label="访问哔哩哔哩视频号">
                <i class="fab fa-bilibili bilibili-icon" aria-hidden="true"></i>
                <div class="bilibili-info">
                    <h3>哔哩哔哩视频号</h3>
                    <p>本人B站账号</p>
                </div>
            </div>
        </section>

        <section aria-labelledby="game-resources">
            <h2 class="category-title" id="game-resources">
                <i class="fas fa-gamepad" aria-hidden="true"></i>
                游戏资源
            </h2>
            <div class="tools-grid">
                <article class="tool-card" data-link="https://share.feijipan.com/s/HXPjCVKS" data-password-id="genshin" aria-labelledby="tool-title-1" aria-describedby="tool-desc-1" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-dragon"></i></div>
                    <h3 class="tool-title" id="tool-title-1">原神6.1单机版</h3>
                    <p class="tool-desc" id="tool-desc-1">原神6.1单机版本，包含完整游戏内容</p>
                    <div class="tool-password" aria-label="此资源需要密码访问"><i class="fas fa-lock"></i></div>
                </article>

                <article class="tool-card" data-link="https://share.feijipan.com/s/sfPLWKFV" data-password-id="starrail" aria-labelledby="tool-title-2" aria-describedby="tool-desc-2" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-robot"></i></div>
                    <h3 class="tool-title" id="tool-title-2">崩铁3.7单机版</h3>
                    <p class="tool-desc" id="tool-desc-2">崩坏：星穹铁道3.7单机版本</p>
                    <div class="tool-password" aria-label="此资源需要密码访问"><i class="fas fa-lock"></i></div>
                </article>

                <article class="tool-card" data-link="https://share.feijipan.com/s/vNPLQ1lV" data-password-id="bluearchive" aria-labelledby="tool-title-3" aria-describedby="tool-desc-3" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-school"></i></div>
                    <h3 class="tool-title" id="tool-title-3">蔚蓝档案单机版</h3>
                    <p class="tool-desc" id="tool-desc-3">蔚蓝档案1.59.359309单机版本</p>
                    <div class="tool-password" aria-label="此资源需要密码访问"><i class="fas fa-lock"></i></div>
                </article>

                <article class="tool-card" data-link="https://ys.mihoyo.com/cloud/m/#/" aria-labelledby="tool-title-4" aria-describedby="tool-desc-4" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-cloud"></i></div>
                    <h3 class="tool-title" id="tool-title-4">云·原神</h3>
                    <p class="tool-desc" id="tool-desc-4">云端畅玩原神，无需下载</p>
                </article>

                <article class="tool-card" data-link="https://mc.js.cool/" aria-labelledby="tool-title-5" aria-describedby="tool-desc-5" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-cube"></i></div>
                    <h3 class="tool-title" id="tool-title-5">我的世界网页版</h3>
                    <p class="tool-desc" id="tool-desc-5">在浏览器中玩我的世界</p>
                </article>

                <article class="tool-card" data-link="https://store.steampowered.com" aria-labelledby="tool-title-6" aria-describedby="tool-desc-6" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fab fa-steam"></i></div>
                    <h3 class="tool-title" id="tool-title-6">Steam官网</h3>
                    <p class="tool-desc" id="tool-desc-6">全球最大的游戏平台</p>
                </article>
            </div>
        </section>

        <section aria-labelledby="software-tools">
            <h2 class="category-title" id="software-tools">
                <i class="fas fa-tools" aria-hidden="true"></i>
                软件工具
            </h2>
            <div class="tools-grid">
                <article class="tool-card" data-link="https://www.123912.com/s/I7DsTd-uahJ3" data-password-id="resources" aria-labelledby="tool-title-7" aria-describedby="tool-desc-7" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-cloud-download-alt"></i></div>
                    <h3 class="tool-title" id="tool-title-7">音黎的免费资源分享</h3>
                    <p class="tool-desc" id="tool-desc-7">各类免费资源下载</p>
                    <div class="tool-password" aria-label="此资源需要密码访问"><i class="fas fa-lock"></i></div>
                </article>

                <article class="tool-card" data-link="https://share.feijipan.com/s/TePL325s" aria-labelledby="tool-title-8" aria-describedby="tool-desc-8" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fab fa-windows"></i></div>
                    <h3 class="tool-title" id="tool-title-8">Windows激活工具</h3>
                    <p class="tool-desc" id="tool-desc-8">Windows系统激活工具合集</p>
                </article>

                <article class="tool-card" data-link="https://share.feijipan.com/s/uQPLbBft" aria-labelledby="tool-title-9" aria-describedby="tool-desc-9" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-tools"></i></div>
                    <h3 class="tool-title" id="tool-title-9">VPN翻墙工具</h3>
                    <p class="tool-desc" id="tool-desc-9">懂的都懂</p>
                </article>

                <article class="tool-card" data-link="https://share.feijipan.com/s/AAPL1NSG" aria-labelledby="tool-title-10" aria-describedby="tool-desc-10" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fab fa-tiktok"></i></div>
                    <h3 class="tool-title" id="tool-title-10">TikTok解除限制版</h3>
                    <p class="tool-desc" id="tool-desc-10">解除地区限制的TikTok版本</p>
                </article>

                <article class="tool-card" data-link="https://www.123912.com/s/I7DsTd-oYhJ3" data-password-id="wechat" aria-labelledby="tool-title-11" aria-describedby="tool-desc-11" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-walking"></i></div>
                    <h3 class="tool-title" id="tool-title-11">微信刷步数</h3>
                    <p class="tool-desc" id="tool-desc-11">轻松修改微信运动步数</p>
                    <div class="tool-password" aria-label="此资源需要密码访问"><i class="fas fa-lock"></i></div>
                </article>
            </div>
        </section>

        <section aria-labelledby="online-tools">
            <h2 class="category-title" id="online-tools">
                <i class="fas fa-globe" aria-hidden="true"></i>
                在线工具
            </h2>
            <div class="tools-grid">
                <article class="tool-card" data-link="http://24mail.chacuo.net/" aria-labelledby="tool-title-12" aria-describedby="tool-desc-12" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-envelope"></i></div>
                    <h3 class="tool-title" id="tool-title-12">临时邮箱</h3>
                    <p class="tool-desc" id="tool-desc-12">生成临时邮箱地址，保护隐私</p>
                </article>

                <article class="tool-card" data-link="https://zuoyinyun.com/tool/id-card" aria-labelledby="tool-title-13" aria-describedby="tool-desc-13" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-id-card"></i></div>
                    <h3 class="tool-title" id="tool-title-13">随机身份证生成器</h3>
                    <p class="tool-desc" id="tool-desc-13">生成测试用的身份证号码</p>
                </article>

                <article class="tool-card" data-link="https://lubansms.com" aria-labelledby="tool-title-14" aria-describedby="tool-desc-14" role="button" tabindex="0">
                    <div class="tool-icon" aria-hidden="true"><i class="fas fa-sms"></i></div>
                    <h3 class="tool-title" id="tool-title-14">接码平台</h3>
                    <p class="tool-desc" id="tool-desc-14">接收短信验证码的平台</p>
                </article>
            </div>
        </section>
    </main>

    <nav class="bottom-nav" aria-label="主要导航">
        <a href="#" class="nav-item active" data-category="all" aria-label="首页" role="button">
            <i class="fas fa-home" aria-hidden="true"></i>
            <span>首页</span>
        </a>
        <a href="#" class="nav-item" data-category="game" aria-label="游戏资源" role="button">
            <i class="fas fa-gamepad" aria-hidden="true"></i>
            <span>游戏</span>
        </a>
        <a href="#" class="nav-item" data-category="software" aria-label="软件工具" role="button">
            <i class="fas fa-tools" aria-hidden="true"></i>
            <span>软件</span>
        </a>
        <a href="#" class="nav-item" data-category="online" aria-label="在线工具" role="button">
            <i class="fas fa-globe" aria-hidden="true"></i>
            <span>工具</span>
        </a>
    </nav>

    <!-- 弹窗系统 -->
    <div id="modal-container">
        <!-- 欢迎弹窗 -->
        <div id="welcome-modal" class="modal" role="dialog" aria-labelledby="welcome-modal-title" aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="welcome-modal-title">欢迎来到音黎工具箱</h2>
                </div>
                <div class="modal-body">
                    <p><strong>免责声明：</strong>本网站资源仅供学习和研究使用，请勿用于商业用途。使用任何工具前请确保您了解并遵守当地法律法规。</p>
                    <p>资源统一放在123云盘，软件被屏蔽的话就放小飞机云盘。</p>
                    <p>网盘密码请徒步到我们的公众号或私信音黎获取，资源全部免费分享不收取任何费用。</p>
                    <p>谢谢你的到来。</p>
                </div>
                <div class="modal-footer">
                    <button id="read-confirm" class="btn-primary" aria-label="确认已阅读欢迎信息并开始使用">已阅读</button>
                </div>
            </div>
        </div>

        <!-- 密码弹窗 -->
        <div id="password-modal" class="modal" role="dialog" aria-labelledby="password-modal-title" aria-describedby="password-modal-desc" aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="password-modal-title">安全验证</h3>
                    <p id="password-modal-desc">请输入密码访问此资源</p>
                </div>
                <div class="modal-body">
                    <div class="input-container">
                        <label for="password-input" class="sr-only">请输入访问密码</label>
                        <input type="password" class="input-field" id="password-input" placeholder="请输入访问密码..." aria-describedby="password-help">
                        <div id="password-help" class="sr-only">请输入正确的密码以访问资源</div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn-secondary" id="password-cancel">取消</button>
                    <button class="btn-primary" id="password-submit">确认</button>
                </div>
            </div>
        </div>

        <!-- 反馈弹窗 -->
        <div id="feedback-modal" class="modal feedback" role="dialog" aria-hidden="true">
            <div class="modal-content">
                <div class="feedback-icon" id="feedback-icon"></div>
                <div class="feedback-text" id="feedback-text"></div>
                <div class="feedback-desc" id="feedback-desc"></div>
            </div>
        </div>
    </div>

    <!-- 弹窗样式 -->
    <style>
        /* 弹窗基础样式 */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9998;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            background: rgba(16, 18, 37, 0.95);
            border-radius: var(--border-radius);
            padding: 25px;
            width: 85%;
            max-width: 500px;
            box-shadow: 0 0 25px rgba(0, 243, 255, 0.6);
            border: 1px solid rgba(0, 243, 255, 0.3);
            transform: translateY(20px) scale(0.9);
            transition: transform 0.5s ease;
            backdrop-filter: blur(10px);
        }

        .modal.active .modal-content {
            transform: translateY(0) scale(1);
        }

        .modal-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .modal-header h2, .modal-header h3 {
            color: var(--neon-blue);
            text-shadow: 0 0 10px var(--neon-blue);
            margin-bottom: 10px;
        }

        .modal-body {
            line-height: 1.6;
            margin-bottom: 20px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .modal-body p {
            margin-bottom: 15px;
        }

        .modal-footer {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        /* 按钮样式 */
        .btn-primary, .btn-secondary {
            padding: 12px 25px;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            min-height: 44px;
            flex: 1;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-purple));
            color: white;
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-color);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-primary:hover, .btn-secondary:hover {
            transform: scale(1.05);
        }

        .btn-primary:hover {
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.8);
        }

        /* 输入框样式 */
        .input-container {
            position: relative;
            margin-bottom: 20px;
        }

        .input-field {
            width: 100%;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(0, 243, 255, 0.3);
            border-radius: var(--border-radius);
            color: white;
            font-size: 16px;
            outline: none;
            transition: var(--transition);
        }

        .input-field:focus {
            border-color: var(--neon-blue);
            box-shadow: 0 0 15px rgba(0, 243, 255, 0.5);
        }

        /* 反馈弹窗样式 */
        .feedback .modal-content {
            max-width: 300px;
            text-align: center;
        }

        .feedback.correct {
            border-color: rgba(0, 255, 150, 0.5);
            box-shadow: 0 0 30px rgba(0, 255, 150, 0.5);
        }

        .feedback.incorrect {
            border-color: rgba(255, 50, 50, 0.5);
            box-shadow: 0 0 30px rgba(255, 50, 50, 0.5);
        }

        .feedback-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .feedback-icon.correct {
            color: #00ffaa;
            text-shadow: 0 0 15px #00ffaa;
        }

        .feedback-icon.incorrect {
            color: #ff5555;
            text-shadow: 0 0 15px #ff5555;
        }

        .feedback-text {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .feedback-desc {
            font-size: 0.9rem;
            color: #b8b8ff;
            margin-bottom: 15px;
        }
    </style>

    <script>
        // 应用配置
        const CONFIG = {
            PASSWORDS: {
                'genshin': '2580',
                'starrail': '2580',
                'bluearchive': '2580',
                'resources': '1314',
                'wechat': '1314'
            },
            ANIMATION_DELAYS: {
                CARD_APPEAR: 100,
                FADE_IN: 500
            },
            LOADING: {
                DURATION: 3000,
                TIPS: [
                    "正在初始化应用...",
                    "加载资源库...",
                    "准备工具组件...",
                    "优化用户体验...",
                    "即将完成..."
                ]
            },
            SAFE_DOMAINS: [
                'b23.tv', 'share.feijipan.com', 'www.123912.com', 
                'ys.mihoyo.com', 'mc.js.cool', 'store.steampowered.com', 
                '24mail.chacuo.net', 'zuoyinyun.com', 'lubansms.com'
            ],
            SECURITY: {
                ALLOWED_PROTOCOLS: ['https:', 'http:'],
                MAX_FAILED_ATTEMPTS: 3,
                LOCK_DURATION: 30000 // 30秒锁定
            }
        };

        // 应用主对象
        const App = {
            config: CONFIG,
            
            // 初始化应用
            init() {
                this.errorHandler.init();
                this.loading.init();
                this.modalSystem.init();
                this.navigation.init();
                this.analytics.init();
                this.shortcuts.init();
                this.utils.preloadCriticalResources();
                this.performanceMonitor.init();
                this.utils.initLazyLoading();
            },
            
            // 错误处理模块
            errorHandler: {
                init() {
                    window.addEventListener('error', this.handleError.bind(this));
                    window.addEventListener('unhandledrejection', this.handlePromiseRejection.bind(this));
                    
                    // 添加资源加载错误监听
                    document.addEventListener('error', this.handleResourceError.bind(this), true);
                    
                    // 添加离线检测
                    window.addEventListener('online', this.handleOnline.bind(this));
                    window.addEventListener('offline', this.handleOffline.bind(this));
                },
                
                handleError(event) {
                    console.error('全局错误:', event.error);
                    // 这里可以发送错误到监控服务
                },
                
                handlePromiseRejection(event) {
                    console.error('未处理的Promise拒绝:', event.reason);
                    event.preventDefault();
                },
                
                handleResourceError(event) {
                    const target = event.target;
                    if (target.tagName === 'IMG') {
                        console.warn('图片加载失败:', target.src);
                        target.style.display = 'none';
                    } else if (target.tagName === 'VIDEO') {
                        console.warn('视频加载失败:', target.src);
                        this.fallbackToStaticBackground();
                    }
                },
                
                fallbackToStaticBackground() {
                    document.body.style.background = "linear-gradient(135deg, #0a1929 0%, #0d1b2a 100%)";
                    document.querySelector('.video-background').style.display = 'none';
                },
                
                handleOnline() {
                    this.showToast('网络连接已恢复', 'success');
                },
                
                handleOffline() {
                    this.showToast('网络连接已断开', 'warning');
                },
                
                showToast(message, type) {
                    const toast = document.createElement('div');
                    toast.textContent = message;
                    toast.className = `toast ${type}`;
                    document.body.appendChild(toast);
                    
                    setTimeout(() => {
                        toast.remove();
                    }, 3000);
                }
            },
            
            // 性能监控模块
            performanceMonitor: {
                init() {
                    this.measureLoadTime();
                    this.trackLCP();
                },
                
                measureLoadTime() {
                    window.addEventListener('load', () => {
                        if (performance.timing) {
                            const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
                            console.log(`页面加载时间: ${loadTime}ms`);
                        }
                    });
                },
                
                trackLCP() {
                    if ('PerformanceObserver' in window) {
                        try {
                            const observer = new PerformanceObserver((list) => {
                                for (const entry of list.getEntries()) {
                                    console.log('LCP:', entry.startTime, entry);
                                }
                            });
                            observer.observe({entryTypes: ['largest-contentful-paint']});
                        } catch (e) {
                            console.log('LCP跟踪不可用');
                        }
                    }
                }
            },
            
            // 加载模块
            loading: {
                init() {
                    // 使用更可靠的缓存检测
                    const hasCachedSession = sessionStorage.getItem('appInitialized') === 'true';
                    const navigationEntries = performance.getEntriesByType('navigation');
                    const isPerformanceNavigation = navigationEntries.length > 0 && 
                                                   navigationEntries[0].type === 'back_forward';
                    
                    if (hasCachedSession && isPerformanceNavigation) {
                        this.skipLoadingScreen();
                    } else {
                        this.startLoadingAnimation();
                    }
                },
                
                skipLoadingScreen() {
                    document.getElementById('loading-screen').style.display = 'none';
                    document.getElementById('main-content').style.display = 'block';
                    sessionStorage.setItem('appInitialized', 'true');
                },
                
                startLoadingAnimation() {
                    const loadingProgressBar = document.getElementById('loading-progress-bar');
                    const loadingPercentage = document.getElementById('loading-percentage');
                    const loadingTips = document.getElementById('loading-tips');
                    
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += Math.random() * 10;
                        if (progress >= 100) {
                            progress = 100;
                            clearInterval(interval);
                            
                            setTimeout(() => {
                                document.getElementById('loading-screen').classList.add('hidden');
                                document.getElementById('main-content').style.display = 'block';
                                sessionStorage.setItem('appInitialized', 'true');
                                App.modalSystem.showWelcomeModal();
                            }, 500);
                        }
                        
                        loadingProgressBar.style.width = `${progress}%`;
                        loadingPercentage.textContent = `${Math.floor(progress)}%`;
                        
                        // 更新提示文本
                        const tipIndex = Math.min(
                            Math.floor(progress / 20),
                            App.config.LOADING.TIPS.length - 1
                        );
                        loadingTips.textContent = App.config.LOADING.TIPS[tipIndex];
                    }, 200);
                }
            },
            
            // 弹窗系统模块
            modalSystem: {
                currentPasswordId: '',
                currentLink: '',
                failedAttempts: 0,
                lockUntil: 0,
                
                init() {
                    // 密码弹窗事件
                    document.getElementById('password-submit').addEventListener('click', this.validatePassword.bind(this));
                    document.getElementById('password-cancel').addEventListener('click', this.closePasswordModal.bind(this));
                    
                    document.getElementById('password-input').addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            this.validatePassword();
                        }
                    });
                    
                    // 欢迎弹窗事件
                    document.getElementById('read-confirm').addEventListener('click', this.closeWelcomeModal.bind(this));
                    
                    // ESC键关闭所有弹窗
                    document.addEventListener('keydown', (e) => {
                        if (e.key === 'Escape') {
                            this.closeAllModals();
                        }
                    });
                    
                    // 点击弹窗外部关闭
                    document.querySelectorAll('.modal').forEach(modal => {
                        modal.addEventListener('click', (e) => {
                            if (e.target === modal) {
                                this.closeModal(modal.id);
                            }
                        });
                    });
                },
                
                showWelcomeModal() {
                    // 检查是否第一次访问 (使用 localStorage，永久)
                    if (!localStorage.getItem('hasVisited')) {
                        setTimeout(() => {
                            this.showModal('welcome-modal');
                            
                            // 设置5秒后自动关闭
                            const autoClose = setTimeout(() => {
                                this.closeWelcomeModal();
                            }, 5000);
                            
                            // 点击确认按钮关闭
                            document.getElementById('read-confirm').addEventListener('click', () => {
                                clearTimeout(autoClose);
                                this.closeWelcomeModal();
                            });
                        }, 500); // 延迟 500ms 弹出
                    }
                },
                
                closeWelcomeModal() {
                    this.closeModal('welcome-modal');
                    localStorage.setItem('hasVisited', 'true');
                },
                
                showPasswordModal(passwordId, link) {
                    this.currentPasswordId = passwordId;
                    this.currentLink = link;
                    this.showModal('password-modal');
                    document.getElementById('password-input').focus();
                },
                
                closePasswordModal() {
                    this.closeModal('password-modal');
                    document.getElementById('password-input').value = '';
                },
                
                validatePassword() {
                    // 检查是否被锁定
                    if (Date.now() < this.lockUntil) {
                        const remaining = Math.ceil((this.lockUntil - Date.now()) / 1000);
                        this.showLockMessage(remaining);
                        return;
                    }
                    
                    const input = document.getElementById('password-input').value;
                    const correctPassword = App.config.PASSWORDS[this.currentPasswordId];
                    
                    if (input === correctPassword) {
                        this.failedAttempts = 0;
                        this.showPasswordFeedback(true, this.currentLink);
                    } else {
                        this.failedAttempts++;
                        
                        // 失败3次后锁定30秒
                        if (this.failedAttempts >= App.config.SECURITY.MAX_FAILED_ATTEMPTS) {
                            this.lockUntil = Date.now() + App.config.SECURITY.LOCK_DURATION;
                            this.showLockMessage(Math.ceil(App.config.SECURITY.LOCK_DURATION / 1000));
                        } else {
                            this.showPasswordFeedback(false);
                        }
                        
                        document.getElementById('password-input').value = '';
                        document.getElementById('password-input').focus();
                    }
                },
                
                showPasswordFeedback(isCorrect, link) {
                    const modal = document.getElementById('feedback-modal');
                    const icon = document.getElementById('feedback-icon');
                    const text = document.getElementById('feedback-text');
                    const desc = document.getElementById('feedback-desc');
                    
                    if (isCorrect) {
                        modal.classList.add('correct');
                        modal.classList.remove('incorrect');
                        icon.className = 'feedback-icon correct fas fa-check-circle';
                        text.textContent = '密码正确';
                        desc.textContent = '正在为您跳转...';
                    } else {
                        modal.classList.add('incorrect');
                        modal.classList.remove('correct');
                        icon.className = 'feedback-icon incorrect fas fa-times-circle';
                        text.textContent = '密码错误';
                        desc.textContent = '请重新输入密码';
                        
                        // 添加输入框抖动效果
                        const input = document.getElementById('password-input');
                        input.classList.add('shake');
                        setTimeout(() => {
                            input.classList.remove('shake');
                        }, 500);
                    }
                    
                    this.showModal('feedback-modal');
                    
                    // 自动关闭反馈
                    setTimeout(() => {
                        this.closeModal('feedback-modal');
                        
                        if (isCorrect && link) {
                            App.utils.safeOpenLink(link);
                            this.closePasswordModal();
                        }
                    }, isCorrect ? 1500 : 2000);
                },
                
                showLockMessage(seconds) {
                    const modal = document.getElementById('feedback-modal');
                    const icon = document.getElementById('feedback-icon');
                    const text = document.getElementById('feedback-text');
                    const desc = document.getElementById('feedback-desc');
                    
                    modal.classList.add('incorrect');
                    modal.classList.remove('correct');
                    icon.className = 'feedback-icon incorrect fas fa-lock';
                    text.textContent = '输入次数过多';
                    desc.textContent = `请等待 ${seconds} 秒后重试`;
                    
                    this.showModal('feedback-modal');
                    
                    setTimeout(() => {
                        this.closeModal('feedback-modal');
                        this.closePasswordModal();
                    }, 3000);
                },
                
                showModal(modalId) {
                    const modal = document.getElementById(modalId);
                    modal.classList.add('active');
                    modal.setAttribute('aria-hidden', 'false');
                },
                
                closeModal(modalId) {
                    const modal = document.getElementById(modalId);
                    modal.classList.remove('active');
                    modal.setAttribute('aria-hidden', 'true');
                },
                
                closeAllModals() {
                    document.querySelectorAll('.modal').forEach(modal => {
                        this.closeModal(modal.id);
                    });
                }
            },
            
            // 导航模块
            navigation: {
                init() {
                    // 工具卡片点击事件（使用防抖）
                    const debouncedCardClick = App.utils.debounce(this.handleCardClick.bind(this), 300);
                    document.addEventListener('click', debouncedCardClick);
                    
                    // 底部导航栏功能
                    document.querySelectorAll('.nav-item').forEach(item => {
                        item.addEventListener('click', this.handleNavClick.bind(this));
                    });
                },
                
                handleCardClick(e) {
                    const card = e.target.closest('.tool-card, .bilibili-card');
                    if (card) {
                        const link = card.getAttribute('data-link');
                        const passwordId = card.getAttribute('data-password-id');
                        
                        if (passwordId) {
                            // 需要密码验证
                            App.modalSystem.showPasswordModal(passwordId, link);
                        } else {
                            // 直接跳转
                            App.utils.safeOpenLink(link);
                        }
                    }
                },
                
                handleNavClick(e) {
                    e.preventDefault();
                    
                    // 更新活动状态
                    document.querySelectorAll('.nav-item').forEach(nav => {
                        nav.classList.remove('active');
                    });
                    e.currentTarget.classList.add('active');
                    
                    // 获取分类
                    const category = e.currentTarget.getAttribute('data-category');
                    
                    // 滚动到对应分类
                    if (category === 'all') {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    } else {
                        const categories = document.querySelectorAll('.category-title');
                        categories.forEach(cat => {
                            if (cat.textContent.includes(this.getCategoryName(category))) {
                                cat.scrollIntoView({ behavior: 'smooth', block: 'start' });
                            }
                        });
                    }
                },
                
                getCategoryName(category) {
                    switch(category) {
                        case 'game': return '游戏资源';
                        case 'software': return '软件工具';
                        case 'online': return '在线工具';
                        default: return '';
                    }
                }
            },
            
            // 分析模块
            analytics: {
                init() {
                    this.trackPageView();
                    
                    // 添加页面可见性检测
                    document.addEventListener('visibilitychange', () => {
                        const bgVideo = document.getElementById('bg-video');
                        if (document.hidden && bgVideo) {
                            bgVideo.pause();
                        } else if (bgVideo) {
                            bgVideo.play().catch(e => console.log('视频自动播放失败:', e));
                        }
                    });
                },
                
                trackPageView() {
                    const data = {
                        page: location.pathname,
                        referrer: document.referrer,
                        timestamp: Date.now(),
                        userAgent: navigator.userAgent
                    };
                    // 发送到你的统计端点
                    console.log('Page view:', data);
                }
            },
            
            // 快捷键模块
            shortcuts: {
                init() {
                    document.addEventListener('keydown', this.handleKeydown.bind(this));
                },
                
                handleKeydown(e) {
                    // ESC键关闭所有弹窗
                    if (e.key === 'Escape') {
                        App.modalSystem.closeAllModals();
                    }
                    
                    // Ctrl+K 或 Cmd+K 聚焦搜索 (可扩展功能)
                    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                        e.preventDefault();
                        // 这里可以添加搜索功能
                        console.log('搜索功能快捷键触发');
                    }
                }
            },
            
            // 工具函数
            utils: {
                // 防抖函数
                debounce(func, wait) {
                    let timeout;
                    return function executedFunction(...args) {
                        const later = () => {
                            clearTimeout(timeout);
                            func(...args);
                        };
                        clearTimeout(timeout);
                        timeout = setTimeout(later, wait);
                    };
                },
                
                // 安全的链接打开方式
                safeOpenLink: (() => {
                    let lastClickTime = 0;
                    return (url) => {
                        const now = Date.now();
                        if (now - lastClickTime < 1000) return; // 防重复点击
                        lastClickTime = now;
                        
                        // 检查URL是否合法
                        if (!url || !/^https?:\/\//.test(url)) {
                            console.error('无效的URL:', url);
                            return;
                        }
                        
                        // 检查是否为安全域名
                        try {
                            const urlObj = new URL(url);
                            
                            // 协议检查
                            if (!CONFIG.SECURITY.ALLOWED_PROTOCOLS.includes(urlObj.protocol)) {
                                console.warn('不支持的协议:', urlObj.protocol);
                                return;
                            }
                            
                            // 同源检查
                            if (urlObj.origin === location.origin) {
                                window.location.href = url;
                                return;
                            }
                            
                            const isSafe = App.config.SAFE_DOMAINS.some(domain => 
                                urlObj.hostname === domain || urlObj.hostname.endsWith('.' + domain)
                            );
                            
                            if (!isSafe) {
                                if (!confirm(`您即将访问外部网站：${urlObj.hostname}\n\n请确认该网站可信。是否继续？`)) {
                                    return;
                                }
                            }
                            
                            // 在新窗口打开，添加noopener和noreferrer增强安全性
                            const newWindow = window.open(url, '_blank', 'noopener,noreferrer');
                            if (newWindow) {
                                newWindow.opener = null;
                            }
                        } catch (error) {
                            console.error('URL安全检查失败:', error);
                        }
                    };
                })(),
                
                // 预加载关键资源
                preloadCriticalResources() {
                    const resources = [
                        'IMG_20251107_203519.png',
                        'mmexport1762503261089.mp4'
                    ];
                    
                    resources.forEach(resource => {
                        const link = document.createElement('link');
                        link.rel = 'preload';
                        link.href = resource;
                        if (resource.endsWith('.mp4')) {
                            link.as = 'video';
                        } else {
                            link.as = 'image';
                        }
                        document.head.appendChild(link);
                    });
                },
                
                // 图片懒加载
                initLazyLoading() {
                    const lazyImages = [].slice.call(document.querySelectorAll('img.lazy'));
                    
                    if ('IntersectionObserver' in window) {
                        const lazyImageObserver = new IntersectionObserver(function(entries) {
                            entries.forEach(function(entry) {
                                if (entry.isIntersecting) {
                                    const lazyImage = entry.target;
                                    lazyImage.src = lazyImage.dataset.src;
                                    lazyImage.classList.remove('lazy');
                                    lazyImage.classList.add('lazy-loaded');
                                    lazyImageObserver.unobserve(lazyImage);
                                }
                            });
                        });

                        lazyImages.forEach(function(lazyImage) {
                            lazyImageObserver.observe(lazyImage);
                        });
                    }
                }
            }
        };

        // 启动应用
        document.addEventListener('DOMContentLoaded', function() {
            // 添加页面可见性检测
            document.addEventListener('visibilitychange', function() {
                const video = document.getElementById('bg-video');
                if (document.hidden) {
                    video?.pause();
                } else {
                    video?.play().catch(e => console.log('视频自动播放失败'));
                }
            });
            
            // 初始化应用
            App.init();
        });

        // Service Worker注册
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('SW注册成功: ', registration.scope);
                        
                        // 检查更新
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            console.log('发现SW更新');
                        });
                    })
                    .catch(function(registrationError) {
                        console.log('SW注册失败: ', registrationError);
                    });
                
                // 监听控制权变化
                let refreshing = false;
                navigator.serviceWorker.addEventListener('controllerchange', () => {
                    if (!refreshing) {
                        refreshing = true;
                        window.location.reload();
                    }
                });
            });
        }
    </script>
</body>
</html>
